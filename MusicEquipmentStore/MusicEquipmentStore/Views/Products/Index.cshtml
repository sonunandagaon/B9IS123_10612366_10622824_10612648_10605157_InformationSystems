@model MusicEquipmentStore.Models.ProductTable

@{
    ViewData["Title"] = "Index";
}

<html>
<body>
    <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4 text-center">
            <br>
            <button class="btn btn-success" type="button" id="buttonSearch">Search for words</button>
        </div>
        <div class="col-md-4"></div>
    </div>

    @if (ViewBag.Base64String != null)
    {
        <hr />
        <img alt="" src="@ViewBag.Base64String" style="height:100px;width:100px;" />
    }


</body>
</html>


@section scripts{
    @*<link href="~/css/style.css" rel="stylesheet" asp-file-version="true" />*@
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/script.js"></script>
    <script>
        

        //function openNav() {
        //    let navPop = document.getElementById("respNav")
        //    if (navPop.className === "resp-nav") {
        //        navPop.className = navPop.className + " clicked"
        //    }
        //    else {
        //        navPop.className = "resp-nav"
        //    }
        //}


        $(document).ready(function () {
            $("#buttonSearch").click(function () {
                alert("The paragraph was clicked.");
                $.ajax({
                    type: "GET",
                    url: "Products/GetProductsDetails",
                    success: function (data) {
                        alert("success")
                        console.log(data);
                    },
                    error: function (data) {
                        console.log('Error ', data);
                    }
                });
            });
        });

        $("#buttonPost").click(function () {
            let cart = { "Id": 4, "ProductName": "piano", "ProductId": 3, "ProductPrice": "30", "ProductQuantity": "5", "UserName": "John", "UserAddress": "Dublin" };

            $.ajax({
                type: "POST",
                url: "http://localhost:5088/api/Cart/AddToCart",
                data: JSON.stringify(cart),
                contentType: "application/json; charset=utf-8",
                success: function (res) {
                    alert("success");
                    console.log(res);
                    alert(JSON.stringify(cart));
                },
                error: function (xhr) {
                    console.log('Error ', xhr);
                }
            });
        });
    </script>
}